Process ProbMemory {
    w: BOOL; // the last value written, 
	r: BOOL; // the value we can read from the memory
    b0: BOOL; // the first bit
    refresh: BOOL; // true if it refreshes in next action
  
    Initial: w && b0 && r && !refresh;
	
	[write] true -> w=!w, b0=!b0, r =!r;
	[read0] !r -> r = r;
	[read1] r -> r = r;
	[tick] true -> 0.5 : r = r + 0.5 : refresh = true;
	[refresh] refresh && r -> b0 = r, refresh = false;
	[refresh] refresh && !r -> b0 = !r, refresh = false;
}

Main(){
	m1: ProbMemory;
	run m1();
}
